<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Macvlan | My Life, My Code]]></title>
  <link href="http://ageekymonk.github.io/blog/categories/macvlan/atom.xml" rel="self"/>
  <link href="http://ageekymonk.github.io/"/>
  <updated>2014-07-12T17:49:34+10:00</updated>
  <id>http://ageekymonk.github.io/</id>
  <author>
    <name><![CDATA[Ramz]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Simulating Multiple Devices With Different Mac From a Single PC]]></title>
    <link href="http://ageekymonk.github.io/blog/2014/06/26/simulating-multiple-devices-with-different-mac-from-a-single-pc/"/>
    <updated>2014-06-26T09:44:48+10:00</updated>
    <id>http://ageekymonk.github.io/blog/2014/06/26/simulating-multiple-devices-with-different-mac-from-a-single-pc</id>
    <content type="html"><![CDATA[<p>If we want to simulate multiple devices (say about 1000) , each with its own mac and send TCP traffic, or any kind of traffic from it,
the best way is to use macvlan</p>

<p>To create a macvlan interface, follow the screencast. Use the steps below to create &ldquo;n&rdquo; number of interface, each with its own mac address.</p>

<iframe src="http://showterm.io/26596f68595a3afdd21ad" width="1280" height="960"></iframe>


<p>Once we have the interface we can send traffic using any socket programming to do so.
A sample way to send tcp traffic through an interface <strong>eth0.1</strong> created above to connect to example.com to port 5555.</p>

<pre><code>    import socket
    import IN

    # Create a tcp socket
    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

    # Bind the socket to an interface so that the traffic will flow through that. Otherwise eth0 will be used.
    s.setsockopt(socket.SOL_SOCKET, IN.SO_BINDTODEVICE, "eth0.1")
    s.connect(('example.com',5555))
    s.send("hello")
</code></pre>
]]></content>
  </entry>
  
</feed>
